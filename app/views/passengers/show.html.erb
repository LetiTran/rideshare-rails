<h1>Passenger <%= @passenger.name %> </h1>

<section>
  <p> Phone: <%= @passenger.phone_num %> </p>
  <p> Total Paid: <%= number_to_currency((@total_paid.to_f)/100, precision: 2)%> </p>
</section>

<section>
  <%= link_to "Request Ride", new_passenger_trip_path(params[:id]) %>


</section>

<ul>
  <li>TRIP ID</li>
  <li>DATE</li>
  <li>DRIVER</li>
  <li>PRICE</li>
  <li>RATING</li>
  <li>ACTIONS</li>
</ul>

<% @passenger.trips.each do |trip| %>
  <ul>
    <li>  <%= link_to trip.id, trip_path(trip[:id])%> <%= trip.date %>

  <!-- use the method in trip module to see if the driver has been deleted -->
      <% if trip.driver_exist %>
        <%= link_to trip.driver_id , driver_path(trip[:driver_id])%>
      <% else %>
        <%= trip[:driver_id] %>
      <% end %>


     <%= number_to_currency((trip.cost.to_f)/100, precision: 2)%>

    <% @trip = Trip.find(trip.id) %>
     <% if trip.rating == nil %>
      <%= form_for @trip do |f| %>
       <%= f.label :rating %>
       <%= f.text_field :rating, size: 6 %>

       <%= f.submit 'Rate Trip' %>
      <% end %>
    <% else %>
      <%= trip.rating %>
    <% end %>

    <%= link_to "Edit", edit_trip_path(trip[:id]) %>  <%= link_to "Delete", trip_path(trip[:id]), method: :delete %> </li>

  </ul>
<% end %>
